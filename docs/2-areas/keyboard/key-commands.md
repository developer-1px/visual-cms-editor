# 키보드 단축키 및 커맨드 가이드 (FigJam 사용성 참고)

이 문서는 Visual CMS Editor에서 제공하는 키보드 단축키와 그에 연결된 커맨드를 설명합니다. FigJam과 같은 직관적인 도구의 사용성을 참고하여, 사용자가 키보드만으로도 효율적으로 작업을 수행할 수 있도록 설계되었습니다.

## 1. 핵심 개념

-   **키맵 (Keymap)**: 특정 키 조합(예: `Ctrl+Z`, `Escape`)과 그에 연결된 동작(커맨드)의 집합입니다.
-   **커맨드 (Command)**: 애플리케이션의 상태를 변경하거나 특정 작업을 수행하는 추상화된 명령입니다. 모든 커맨드는 실행, 취소, 다시 실행이 가능하도록 설계됩니다.
-   **컨텍스트 (Context)**: 키맵이 활성화되는 조건입니다. 예를 들어, 요소를 선택했을 때만 활성화되는 키맵이 있습니다.

## 2. 전역 키맵 (Global Keymap)

어떤 상황에서든 항상 활성화되는 기본 키맵입니다.

| 키 조합       | 동작/커맨드                               | 설명                                                               |
| :------------ | :---------------------------------------- | :----------------------------------------------------------------- |
| `Ctrl/Cmd + Z` | `UNDO`                                    | 마지막으로 수행한 작업을 취소합니다.                               |
| `Ctrl/Cmd + Shift + Z` | `REDO`                                    | 취소된 작업을 다시 실행합니다.                                     |
| `Ctrl/Cmd + Y` | `REDO`                                    | 취소된 작업을 다시 실행합니다. (`Ctrl+Shift+Z`와 동일)             |
| `Escape`      | `STOP_EDITING` 또는 `CLEAR_SELECTION`     | 현재 편집 중인 상태를 종료하거나, 선택된 요소를 모두 해제합니다. |

## 3. 컨텍스트별 키맵

애플리케이션의 특정 상태(예: 요소 선택, 텍스트 편집)에서만 활성화되는 키맵입니다.

### 3.1. 선택 모드 키맵 (Selection Mode Keymap)

하나 이상의 요소가 선택되었고, 현재 편집 중이 아닐 때 활성화됩니다.

| 키 조합       | 동작/커맨드                               | 설명                                                               |
| :------------ | :---------------------------------------- | :----------------------------------------------------------------- |
| `Enter`       | `START_EDITING`                           | 선택된 단일 요소의 편집 모드를 시작합니다.                         |
| `Delete`      | `DELETE_ELEMENT`                          | 선택된 요소를 삭제합니다.                                          |
| `Backspace`   | `DELETE_ELEMENT`                          | 선택된 요소를 삭제합니다. (`Delete`와 동일)                        |
| `Ctrl/Cmd + C` | `COPY_ELEMENT`                            | 선택된 요소를 클립보드에 복사합니다.                               |
| `Ctrl/Cmd + X` | `CUT_ELEMENT`                             | 선택된 요소를 클립보드에 잘라내고 삭제합니다.                      |
| `Ctrl/Cmd + V` | `PASTE_ELEMENT`                           | 클립보드의 요소를 현재 위치에 붙여넣습니다.                        |
| `Ctrl/Cmd + D` | `DUPLICATE_ELEMENT` (`COPY` 후 `PASTE`) | 선택된 요소를 복제하여 붙여넣습니다.                               |

### 3.2. 텍스트 편집 모드 키맵 (Text Editing Mode Keymap)

텍스트 요소가 편집 중일 때 활성화됩니다. 이 모드에서는 대부분의 키 입력이 텍스트 편집에 사용됩니다.

| 키 조합       | 동작/커맨드                               | 설명                                                               |
| :------------ | :---------------------------------------- | :----------------------------------------------------------------- |
| `Escape`      | `STOP_EDITING`                            | 텍스트 편집 모드를 종료합니다.                                     |
| `Space`       | (기본 동작)                               | 텍스트 편집 중에는 스페이스바의 기본 동작(공백 입력)을 허용합니다. |
| `Ctrl/Cmd + B` | `TOGGLE_BOLD` (미구현)                    | 선택된 텍스트를 굵게 만듭니다. (현재 미구현)                       |
| `Ctrl/Cmd + I` | `TOGGLE_ITALIC` (미구현)                  | 선택된 텍스트를 기울임꼴로 만듭니다. (현재 미구현)                  |

### 3.3. 네비게이션 키맵 (Navigation Keymap)

편집 중이 아닐 때 활성화되며, 요소를 탐색하는 데 사용됩니다.

| 키 조합       | 동작/커맨드                               | 설명                                                               |
| :------------ | :---------------------------------------- | :----------------------------------------------------------------- |
| `Tab`         | `NAVIGATE_NEXT_ELEMENT` (TODO)            | 다음 편집 가능한 요소로 포커스를 이동합니다.                       |
| `Shift + Tab` | `NAVIGATE_PREVIOUS_ELEMENT` (TODO)        | 이전 편집 가능한 요소로 포커스를 이동합니다.                       |
| `ArrowUp`     | `NAVIGATE_UP` (TODO)                      | 위쪽 요소로 포커스를 이동합니다.                                   |
| `ArrowDown`   | `NAVIGATE_DOWN` (TODO)                    | 아래쪽 요소로 포커스를 이동합니다.                                 |
| `ArrowLeft`   | `NAVIGATE_LEFT` (TODO)                    | 왼쪽 요소로 포커스를 이동합니다.                                   |
| `ArrowRight`  | `NAVIGATE_RIGHT` (TODO)                   | 오른쪽 요소로 포커스를 이동합니다.                                 |

### 3.4. 섹션 키맵 (Section Keymap)

편집 중이 아니고, `contenteditable` 요소가 포커스되지 않았을 때, `template-section` 클래스를 가진 요소에 포커스가 있을 때 활성화됩니다.

| 키 조합       | 동작/커맨드                               | 설명                                                               |
| :------------ | :---------------------------------------- | :----------------------------------------------------------------- |
| `Enter`       | `SELECT_SECTION`                          | 현재 포커스된 섹션을 선택합니다.                                   |
| `Space`       | `SELECT_SECTION`                          | 현재 포커스된 섹션을 선택합니다. (`Enter`와 동일)                  |

## 4. 개발자 도구 키맵 (Developer Tool Keymap)

개발 및 디버깅을 위한 키맵입니다. 가장 낮은 우선순위를 가집니다.

| 키 조합           | 동작/커맨드                               | 설명                                                               |
| :---------------- | :---------------------------------------- | :----------------------------------------------------------------- |
| `Ctrl/Cmd + Shift + D` | `SHOW_DEBUG_INFO`                         | 현재 선택된 요소 정보, 편집 중인 모델, 키맵 디버그 정보를 표시합니다. |
| `Ctrl/Cmd + Shift + K` | `SHOW_KEYBOARD_SHORTCUTS` (TODO)          | 모든 키보드 단축키 목록을 표시하는 UI를 띄웁니다. (현재 미구현)     |

## 5. 향후 개선 방향

-   **TODO 항목 구현**: 현재 미구현된 네비게이션 및 `SHOW_KEYBOARD_SHORTCUTS` 기능을 구현합니다.
-   **커맨드 확장**: FigJam과 같은 도구에서 제공하는 더 다양한 커맨드(예: 그룹화, 정렬, 잠금 등)를 분석하여 추가합니다.
-   **사용자 정의 키맵**: 사용자가 직접 키맵을 커스터마이징할 수 있는 기능을 고려합니다.
-   **시각적 피드백**: 키 입력 시 시각적인 피드백을 제공하여 사용성을 향상시킵니다.
